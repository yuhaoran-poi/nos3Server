syntax = "proto3";
import "item.proto";

message PBMailSimpleData
{
    int64 mail_id		= 1;    // 邮件id
    int32 mail_config_id	= 2;    // 邮件配置id
    int32 mail_type		= 3;    // 邮件类型
    int64 beg_ts		= 4;    // 开始时间
	int64 end_ts		= 5;    // 结束时间
    int32 mail_title_id	= 6;    // 邮件标题id
    string mail_title	= 7;    // 邮件标题
    int32 is_read		= 8;   // 是否已读
    int32 is_have_items = 9;   // 是否有附件
    int32 is_get = 10;   // 是否已领取
}

message PBMailData
{
    PBMailSimpleData simple_data = 1;
    int32 mail_icon_id      = 2;    // 邮件图标
    int32 mail_content_id   = 3;    // 邮件内容id
    string mail_content     = 4;    // 邮件内容
    string sign = 5;    // 签名
    map<int32, PBItemSimple> items_simple = 6;   // 附件
    repeated PBItemData item_datas   = 7;   // 附件
    map<int32, PBCoin> coins = 8;   // 附件
}

message PBUserMailBox
{
    int64 last_system_mail_id = 1;
    int64 last_trigger_mail_id = 2;
    int64 last_immediate_mail_id = 3;
    map<int64, PBMailData> mails_info = 4;
}

message PBMailSyncCmd
{
    repeated int64 add_mail_ids = 1;
    repeated int64 del_mail_ids = 2;
    repeated int64 update_mail_ids = 3;
}

// 客户端请求获取所有邮件列表
message PBGetAllMailReqCmd
{
    int64 uid = 1;
}

message PBGetAllMailRspCmd
{
    int32 code = 1; // 服务器返回,0成功,其他失败
    string error = 2; // 错误信息
    int64 uid = 3;
    repeated PBMailSimpleData mail_simple_list = 4;
}

// 客户端请求获取邮件详情
message PBGetMailDetailReqCmd
{
    int64 uid = 1;
    repeated int64 mail_ids = 2;
}

message PBGetMailDetailRspCmd
{
    int32 code = 1; // 服务器返回,0成功,其他失败
    string error = 2; // 错误信息
    int64 uid = 3;
    repeated int64 mail_ids = 4;
    repeated PBMailData mail_list = 5;
}

// 客户端读取邮件详情
message PBReadMailReqCmd
{
    int64 uid = 1;
    int64 mail_id = 2;
}

message PBReadMailRspCmd
{
    int32 code = 1; // 服务器返回,0成功,其他失败
    string error = 2; // 错误信息
    int64 uid = 3;
    int64 mail_id = 4;
    PBMailData mail_data = 5;
}

// 客户端领取邮件附件
message PBGetRewardReqCmd
{
    int64 uid = 1;
    repeated int64 mail_ids = 2;
}

message PBGetRewardRspCmd
{
    int32 code = 1; // 服务器返回,0成功,其他失败
    string error = 2; // 错误信息
    int64 uid = 3;
    repeated int64 mail_ids = 4;
}

// 客户端删除邮件
message PBDelMailReqCmd
{
    int64 uid = 1;
    repeated int64 mail_ids = 2;
}

message PBDelMailRspCmd
{
    int32 code = 1; // 服务器返回,0成功,其他失败
    string error = 2; // 错误信息
    int64 uid = 3;
    repeated int64 mail_ids = 4;
}